{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/main/main.component.html","webpack:///src/app/main/main.component.ts","webpack:///src/app/shared/dialog-create-model/dialog-create-model.component.html","webpack:///src/app/shared/dialog-create-model/dialog-create-model.component.ts","webpack:///src/app/shared/model/component.mode.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","component","path","AppRoutingModule","AppComponent","title","AppModule","MainComponent","dialog","http","listOpen","listOpen1","types","colors","colorsArr","text","data","optionsModal","formulaSaverOld","saverComponent","modelsKeys","settings","selectedData","icons","attributeOptions","k","get","subscribe","res","i","options","length","item","attributes","attribute","push","name","icon","optionsData","getAttribute","setTimeout","drow","init","menuInit","zoom","d3","scaleExtent","on","zoomTrans","event","transform","currentTransform","x","y","conteiner","attr","slider","property","rangeWidth","vis","select","append","w","h","startDrowLine","removeAll","activeArrow","document","documentElement","style","cursor","call","g","datum","g1","icon1","g2","scaleTo","getElementById","addEventListener","dummyX","offsetX","dummyY","offsetY","selectAll","remove","d","source","target","link","linkHorizontal","marker","drowLines","forEach","element","index","arr","dx","dy","color","count","countS","selected","objectClass","drag","dragstarted","dragged","dragended","q","stopPropagation","s","selectedModal","parameters","showSide","shepClick","split","type","newItem","group","operations","values","key","operation","value","self","start_x","start_y","current_scale","current_scale_string","substring","dragSelected","scale","classed","firstSide","secondSide","to","searchById","from","selectedIn","it","x2","y2","minX","Math","abs","minY","undefined","clickArrow","selectedLine","selectedLineId","selectedLineFrom","selectedLineTo","ev","dataTransfer","setData","dragType","isStart","preventDefault","model","uuidv4","flag","width","input","side","idField","f","result","find","replace","c","r","random","v","toString","hasArr","items","concat","Set","calss","iterator","getElementsByAttributs","dialogRef","open","label","deleteMode","afterClosed","indexOf","splice","sIn","DialogCreateModelComponent","valid","dataArr","saveId","close","re","test","ComponentClass","environment","production","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MainComponent } from './main/main.component';\n\n\nconst routes: Routes = [\n  {component: MainComponent, path: \"\"}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","\n\n<router-outlet></router-outlet>","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'bpm';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { MainComponent } from './main/main.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { DialogCreateModelComponent } from './shared/dialog-create-model/dialog-create-model.component';\n\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\n\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MainComponent,\n    DialogCreateModelComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpClientModule,\n    AppRoutingModule,\n    MatDialogModule,\n    MatButtonModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent],\n  entryComponents: [DialogCreateModelComponent]\n})\nexport class AppModule { }\n","<div class=\"bpm-wrap\">\r\n  <div class=\"header-palette\">\r\n    <div class=\"icons-wrap\">\r\n      <button class=\"btn-gen_wrap\">\r\n        <img class=\"img-but rot\" src=\"/assets/tree.svg\" alt=\"tree\">\r\n      </button>\r\n      <button (click)=\"deleteElement()\" class=\"btn-gen_wrap\">\r\n        <img class=\"img-but\" src=\"/assets/bin.svg\" alt=\"bin\">\r\n      </button>\r\n      <button class=\"btn-gen_wrap\" (click)=\"zoomPlus()\">\r\n        <img class=\"img-but\" src=\"/assets/zoomp.svg\" alt=\"zoom\">\r\n      </button>\r\n      <button class=\"btn-gen_wrap\" (click)=\"zoomMinus()\">\r\n        <img class=\"img-but\" src=\"/assets/zoomm.svg\" alt=\"zoom\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class=\"palette-entries\">\r\n    <div class=\"head-entries\">\r\n      <p>Components</p>\r\n    </div>\r\n    <div class=\"entries-cont_wrap\">\r\n      <div id=\"AND\" [draggable]=\"true\" class=\"item_wrap\">\r\n        <p class=\"icon_wrap\">\r\n          <img class=\"img-but rot\" src=\"/assets/tree.svg\" alt=\"tree\">\r\n        </p>\r\n        <p class=\"item-title\">Logical AND relation</p>\r\n      </div>\r\n      <div id=\"OR\" [draggable]=\"true\" class=\"item_wrap\">\r\n        <p class=\"icon_wrap\">\r\n          <img class=\"img-but rot\" src=\"/assets/tree.svg\" alt=\"tree\">\r\n        </p>\r\n        <p class=\"item-title\">Logical OR relation</p>\r\n      </div>\r\n      <div class=\"padding\">\r\n        <p></p>\r\n      </div>\r\n     <div *ngFor=\"let item of optionsData\">\r\n      <div class=\"item_wrap\">\r\n        <p class=\"icon_wrap no-m\">\r\n          <img class=\"img-but\" src=\"/assets/{{item.icon}}.svg\" alt=\"card\">\r\n        </p>\r\n        <p class=\"item-title\">{{item.name}}</p>\r\n        <p (click)=\"item.show = !item.show\" class=\"d-arrow\">\r\n          <img src=\"/assets/down.svg\" alt=\"down\">\r\n        </p>\r\n      </div>\r\n      <div [class.active]=\"item.show\" class=\"item-cont__list\">\r\n        <div *ngFor=\"let attribute of item.attributes\" [id]=\"item.name+'-'+attribute.name\" [draggable]=\"true\" class=\"list_item\">\r\n          <p class=\"item_title\">{{attribute.name}}</p>\r\n        </div>\r\n      </div>\r\n     </div>\r\n    </div>\r\n    \r\n    <!-- <div *ngFor=\"let item of types\" class=\"bpm-item\">\r\n      <div [id]=\"item\" [draggable]=\"true\" [ngStyle]=\"{'color': text[item], 'background': colors[item]}\" class=\"square\"\r\n        [title]=\"item\" tooltipPosition=\"top\">\r\n        {{item}}\r\n      </div>\r\n    </div> -->\r\n \r\n    <!-- <div class=\"el_wrap\">\r\n      <div style=\"cursor: pointer;\" (click)=\"arrowSelect()\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n          <path d=\"M24 11.871l-5-4.871v3h-19v4h19v3z\" /></svg></div>\r\n    </div> -->\r\n  </div>\r\n  <div class=\"coco-bpm-graph\" id=\"graph\"></div>\r\n  <!-- <div class=\"clickShield\" *ngIf=\"showSide\" (click)=\"showSide = false\"></div> -->\r\n  <div (click)=\"showSide = !showSide\" class=\"toggle-sidebar-btn\" [ngClass]=\"{ 'active': showSide }\">\r\n    <a mat-raised-button>\r\n      <span class=\"icons\">\r\n        <img src=\"/assets/subject-black.svg\">\r\n      </span>\r\n    </a>\r\n  </div>\r\n  <div [ngClass]=\"{ show: showSide }\" *ngIf=\"selectedModal && newItem\" class=\"sidebar show\">\r\n    <div class=\"cont__wrap\">\r\n      <p class=\"m-title\">{{newItem.group}}</p>\r\n      <div class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">Key</label>\r\n        <input [(ngModel)]=\"newItem.key\" type=\"text\" class=\"input-gen\" placeholder=\"key\" id=\"key\">\r\n      </div>\r\n      <!-- <div class=\"rule-row__gen\">\r\n        <label for=\"type\" class=\"r-name\">Attribute</label>\r\n        <select type=\"text\" class=\"input-gen sel\" [(ngModel)]=\"newItem.attribute\" (ngModelChange)=\"changeAttr($event)\">\r\n          <option *ngFor=\"let item of selectedData['name' + newItem.objectClass]\">{{item}}</option>\r\n        </select>\r\n      </div> -->\r\n      <div class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">Name</label>\r\n        <input [(ngModel)]=\"newItem.name\" type=\"text\" class=\"input-gen\" placeholder=\"Name\" id=\"name\">\r\n      </div>\r\n      <div class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">Description</label>\r\n        <input [(ngModel)]=\"newItem.description\" type=\"text\" class=\"input-gen\" placeholder=\"Description\" id=\"description\">\r\n      </div>\r\n      <!-- <div class=\"rule-row__gen\">\r\n        <label for=\"type\" class=\"r-name\">Type</label>\r\n        <select type=\"text\" class=\"input-gen sel\" [(ngModel)]=\"newItem.type\">\r\n          <option *ngFor=\"let item of selectedData['type' + newItem.objectClass + newItem.attribute]\">{{item}}</option>\r\n        </select>\r\n      </div> -->\r\n      <div class=\"rule-row__gen\">\r\n        <label for=\"type\" class=\"r-name\">Type</label>\r\n        <input [(ngModel)]=\"newItem.type\" type=\"text\" class=\"input-gen\" placeholder=\"type\" id=\"type\">\r\n      </div>\r\n      <div class=\"rule-row__gen\">\r\n        <label for=\"type\" class=\"r-name\">Operation</label>\r\n        <select type=\"text\" class=\"input-gen sel\" [(ngModel)]=\"newItem.operation\">\r\n          <option *ngFor=\"let item of newItem.operations\">{{item}}</option>\r\n        </select>\r\n      </div>\r\n      <div *ngIf=\"newItem.values\" class=\"rule-row__gen\">\r\n        <label for=\"type\" class=\"r-name\">Value</label>\r\n        <select type=\"text\" class=\"input-gen sel\" [(ngModel)]=\"newItem.value\">\r\n          <option *ngFor=\"let item of newItem.values\">{{item}}</option>\r\n        </select>\r\n      </div>\r\n      <div *ngIf=\"!newItem.values\" class=\"rule-row__gen\">\r\n        <label for=\"type\" class=\"r-name\">Value</label>\r\n        <input [(ngModel)]=\"newItem.value\" type=\"text\" class=\"input-gen\" placeholder=\"value\" id=\"valuetext\">\r\n      </div>\r\n      <!-- <div *ngFor=\"let item of newItem.attributes\">\r\n        <div *ngIf=\"item.type === 'string' && !item.values\" class=\"rule-row__gen\">\r\n          <label for=\"key\" class=\"r-name\">{{item.name}}</label>\r\n          <input [(ngModel)]=\"item.value\" type=\"text\" class=\"input-gen\" [placeholder]=\"item.name\" [id]=\"item.name\">\r\n        </div>\r\n        <div *ngIf=\"item.type === 'integer' && !item.values\" class=\"rule-row__gen\">\r\n          <label for=\"key\" class=\"r-name\">{{item.name}}</label>\r\n          <input [(ngModel)]=\"item.value\" type=\"number\" class=\"input-gen\" [placeholder]=\"item.name\" [id]=\"item.name\">\r\n        </div>\r\n        <div *ngIf=\"item.type === 'boolean'\" class=\"rule-row__gen\">\r\n          <label for=\"name\" class=\"r-name\">{{item.name}}</label>\r\n          <div class=\"form-checkbox__wrap\">\r\n            <input type=\"checkbox\" [(ngModel)]=\"item.value\" class=\"form-checkbox__subscribe\" [name]=\"item.name\" [id]=\"item.name\"\r\n              [placeholder]=\"item.name\">\r\n            <label for=\"phone_number_verified\" class=\"form__link\"></label>\r\n          </div> \r\n        </div>\r\n        <div *ngIf=\"item.type === 'string' && item.values\" class=\"rule-row__gen\">\r\n          <label for=\"type\" class=\"r-name\">{{item.name}}</label>\r\n          <select [(ngModel)]=\"item.value\" type=\"text\" class=\"input-gen sel\" [name]=\"item.name\" [id]=\"item.name\"\r\n         >\r\n            <option *ngFor=\"let o of item.values\" [value]=\"o\">{{o}}</option>\r\n          </select>\r\n        </div>\r\n      </div> -->\r\n\r\n      \r\n      <!-- <div *ngIf=\"data[this.selectedModal].objectClass === 'Data Model'\" class=\"rule-row__gen\">\r\n        <label for=\"name\" class=\"r-name\">Name</label>\r\n        <input type=\"text\" class=\"input-gen\" placeholder=\"Name\" id=\"name\">\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Data Model'\" class=\"rule-row__gen\">\r\n        <label for=\"name\" class=\"r-name\">Family Name</label>\r\n        <input type=\"text\" class=\"input-gen\" placeholder=\"Family Name\" id=\"family_name\">\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Data Model'\" class=\"rule-row__gen\">\r\n        <label for=\"name\" class=\"r-name\">Email</label>\r\n        <input type=\"text\" class=\"input-gen\" placeholder=\"Email\" id=\"email\">\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Data Model'\" class=\"rule-row__gen\">\r\n        <label for=\"name\" class=\"r-name\">Email Verified</label>\r\n        <div class=\"form-checkbox__wrap\">\r\n          <input type=\"checkbox\" class=\"form-checkbox__subscribe\" name=\"name\" id=\"email_verified\"\r\n          placeholder=\"Email Varified\">\r\n          <label for=\"email_verified\" class=\"form__link\"></label>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Data Model'\" class=\"rule-row__gen\">\r\n        <label for=\"name\" class=\"r-name\">Phone Number</label>\r\n        <input type=\"text\" class=\"input-gen\" placeholder=\"Phone Number\" id=\"phone_number\">\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Data Model'\" class=\"rule-row__gen\">\r\n        <label for=\"name\" class=\"r-name\">Phone Number Verified</label>\r\n\r\n        <div class=\"form-checkbox__wrap\">\r\n          <input type=\"checkbox\" class=\"form-checkbox__subscribe\" name=\"name\" id=\"phone_number_verified\"\r\n            placeholder=\"Phone Number Verified\">\r\n          <label for=\"phone_number_verified\" class=\"form__link\"></label>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Data Model'\" class=\"rule-row__gen\">\r\n        <label for=\"type\" class=\"r-name\">National Identifier Verified</label>\r\n        <select type=\"text\" class=\"input-gen sel\" placeholder=\"\" id=\"national_identifier_verified\">\r\n          <option>Weak</option>\r\n          <option>Fair</option>\r\n          <option>Strong</option>\r\n          <option>Superior</option>\r\n        </select>\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Audit Rules'\" class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">Push</label>\r\n        <input type=\"text\" class=\"input-gen\" placeholder=\"Push\" id=\"push\">\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Audit Rules'\" class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">oath</label>\r\n        <input type=\"text\" class=\"input-gen\" placeholder=\"oath\" id=\"oath\">\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Audit Rules'\" class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">otp sms</label>\r\n        <input type=\"text\" class=\"input-gen\" placeholder=\"otp sms\" id=\"otp_sms\">\r\n      </div>\r\n      <div *ngIf=\"data[this.selectedModal].objectClass === 'Audit Rules'\" class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">password</label>\r\n        <input type=\"text\" class=\"input-gen\" placeholder=\"password\" id=\"password\">\r\n      </div>\r\n      <div\r\n        *ngIf=\"data[this.selectedModal].objectClass === 'Contextual Rules' || data[this.selectedModal].objectClass === 'Role type x'\"\r\n        class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">numberOfAuthPwd</label>\r\n        <input type=\"number\" class=\"input-gen\" placeholder=\"numberOfAuthPwd\" id=\"numberOfAuthPwd\">\r\n      </div>\r\n      <div\r\n        *ngIf=\"data[this.selectedModal].objectClass === 'Contextual Rules' || data[this.selectedModal].objectClass === 'Role type x'\"\r\n        class=\"rule-row__gen\">\r\n        <label for=\"key\" class=\"r-name\">numberOfAuthPush</label>\r\n        <input type=\"number\" class=\"input-gen\" placeholder=\"numberOfAuthPush\" id=\"numberOfAuthPush\">\r\n      </div> -->\r\n    </div>\r\n    <button class=\"save-btn\" (click)=\"saveForm()\">Save</button>\r\n  </div>\r\n</div>","import { Component, OnInit, AfterViewInit } from '@angular/core';\r\nimport { ComponentClass } from '../shared/model/component.mode';\r\nimport { DialogCreateModelComponent } from '../shared/dialog-create-model/dialog-create-model.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { trimTrailingNulls } from '@angular/compiler/src/render3/view/util';\r\ndeclare var d3;\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.scss']\r\n})\r\nexport class MainComponent implements OnInit, AfterViewInit {\r\n  public listOpen:boolean = false;\r\n  public listOpen1:boolean = false;\r\n  types = [\r\n    // \"Data Model\",\r\n    // \"Audit Rules\",\r\n    // \"Contextual Rules\",\r\n    // \"Role type x\",\r\n  ];\r\n\r\n  colors = {\r\n    // \"Data Model\": \"#fec003\",\r\n    // \"Audit Rules\": \"#ff0300\",\r\n    // \"Contextual Rules\": \"#93d052\",\r\n    // \"Role type x\": \"#d9edf8\",\r\n  }\r\n  colorsArr = [\r\n    \"#fec003\",\r\n    \"#ff0300\",\r\n    \"#93d052\",\r\n    \"#d9edf8\",\r\n  ]\r\n  text = {\r\n    // \"Data Model\": \"#000\",\r\n    // \"Audit Rules\": \"#fff\",\r\n    // \"Contextual Rules\": \"#fff\",\r\n    // \"Role type x\": \"#000\",\r\n  }\r\n\r\n  picture;\r\n  zoom;\r\n  zoomTrans;\r\n  conteiner;\r\n  dragType;\r\n  isStart;\r\n  vis;\r\n  data = [];\r\n  start_x;\r\n  start_y;\r\n  activeArrow;\r\n  selected;\r\n  startDrowLine;\r\n  marker;\r\n  modelId;\r\n  showSide;\r\n  selectedModal;\r\n  optionsModal = {};\r\n  dragSelected;\r\n  user;\r\n  modelList;\r\n  setInterval;\r\n  formulaSaverOld = {};\r\n  saverComponent = [];\r\n  modelsKeys = {};\r\n  dataCopy;\r\n  selectedModalObj;\r\n  newItem;\r\n\r\n  constructor( public dialog: MatDialog, private http: HttpClient) {\r\n      \r\n   }\r\n\r\n  ngOnInit(): void {\r\n  \r\n  }\r\n  settings = {}\r\n  selectedData = {}\r\n  optionsData;\r\n  icons = {};\r\n  attributeOptions = {};\r\n  ngAfterViewInit() {\r\n    this.http.get(\"./assets/json/data.json\").subscribe((res: any) => {\r\n      this.data = res.data;\r\n      for(let i = 0; i < res.options.length; i++) {\r\n        let item = res.options[i];\r\n        for(let attribute of item.attributes){\r\n          this.types.push(item.name+'-'+attribute.name);\r\n          this.icons[item.name] = item.icon;\r\n          this.attributeOptions[item.name+'-'+attribute.name] = attribute;\r\n        }\r\n        this.optionsData = res.options;\r\n        this.colors[item.name] = this.colorsArr[i];\r\n        this.text[item.name] = \"#fff\";\r\n        this.settings[item.name] = item;\r\n        this.selectedData[\"name\" + item.name] = this.getAttribute(item, 'name');\r\n        // this.selectedData[\"type\" + item.name] = this.getAttribute(item, 'type');\r\n        // this.selectedData[\"operations\" + item.name] = this.getAttribute(item, 'operations', true);\r\n        // this.selectedData[\"values\" + item.name] = this.getAttribute(item, 'values', true);\r\n      }\r\n      setTimeout(() => {\r\n        this.drow();\r\n        this.init();\r\n        \r\n      }, 1000);\r\n\r\n    })\r\n  }\r\n  slider;\r\n  init() {\r\n    this.menuInit();\r\n\r\n    this.zoom = d3\r\n    .zoom()\r\n    .scaleExtent([0.1, 2])\r\n    .on(\"zoom\", () => {\r\n      this.zoomTrans = d3.event.transform;\r\n      // this.conteiner.attr(\"transform\", d3.event.transform);\r\n      const currentTransform = d3.event.transform;\r\n      if (!currentTransform.x) {\r\n        currentTransform.x = 0;\r\n        currentTransform.y = 0;\r\n      }\r\n      this.conteiner.attr(\"transform\", currentTransform);\r\n      this.slider.property(\"value\", currentTransform.k);\r\n      this.rangeWidth();\r\n\r\n    });\r\n  this.vis = d3.select(\"#graph\").append(\"svg\");\r\n  var w = \"100%\",\r\n    h = \"100%\";\r\n  this.vis\r\n    .attr(\"width\", w)\r\n    .attr(\"height\", h)\r\n    .on(\"click\", () => {\r\n      // if (!this.readOnly) {\r\n      //   this.unselect();\r\n\r\n      if (this.startDrowLine) {\r\n        this.removeAll();\r\n        this.startDrowLine = null;\r\n        this.activeArrow = null;\r\n        document.documentElement.style.cursor = \"default\";\r\n        this.drow();\r\n      }\r\n\r\n      // if (!this.clickArrow) {\r\n      //   this.unselectArrow();\r\n      // }\r\n\r\n\r\n    });\r\n  this.vis.call(this.zoom).on(\"dblclick.zoom\", null);\r\n\r\n  this.conteiner = this.vis.append(\"g\").attr(\"id\", \"wrap\");\r\n  let g = d3\r\n    .select(\"#graph\")\r\n    .append(\"div\")\r\n    .datum({})\r\n    .attr(\"class\", \"coco-bpm-d3-zoom-wrap\");\r\n  let g1 = g;\r\n  let icon1 = g1\r\n  .append(\"svg\")\r\n  .attr(\"width\", \"14\")\r\n  .attr(\"height\", \"14\")\r\n  .attr(\"viewBox\", \"0 0 14 14\")\r\n  .on(\"click\", () => {\r\n    // this.undo();\r\n  })\r\n  .append(\"g\")\r\n  .attr(\"fill\", \"#2196F3\")\r\n  .attr(\"transform\", \"translate(-384.000000, -144.000000)\")\r\n  .attr(\"fill-rule\", \"nonzero\");\r\n\r\n  icon1\r\n    .append(\"path\")\r\n    .attr(\r\n      \"d\",\r\n      \"M391.5,157 C389.014719,157 387,154.985281 387,152.5 C387,152.331018 387.009314,152.164211 387.027464,152 L385.018945,152 C385.00639,152.165053 385,152.33178 385,152.5 C385,156.089851 387.910149,159 391.5,159 C395.089851,159 398,156.089851 398,152.5 C398,149.078368 395.356198,146.27423 392,146.018945 L392,148.027464 C394.249941,148.27615 396,150.183701 396,152.5 C396,154.985281 393.985281,157 391.5,157 L391.5,157 Z M388,147 L392,150 L392,144 L388,147 L388,147 Z M388,147\"\r\n    );\r\n\r\n  let icon = g1\r\n    .append(\"svg\")\r\n    .attr(\"width\", \"14\")\r\n    .attr(\"height\", \"14\")\r\n    .attr(\"viewBox\", \"0 0 14 14\")\r\n    .append(\"g\")\r\n    .attr(\"fill\", \"#2196F3\")\r\n    .attr(\"fill-rule\", \"nonzero\");\r\n  icon\r\n    .append(\"path\")\r\n    .attr(\r\n      \"d\",\r\n      \"M12.316 9.677a5.677 5.677 0 0 0 0-8.019 5.676 5.676 0 0 0-8.019 0 5.56 5.56 0 0 0-.853 6.843s.094.158-.033.284L.518 11.678c-.575.576-.712 1.381-.202 1.892l.088.088c.51.51 1.316.373 1.892-.202l2.886-2.887c.133-.133.29-.04.29-.04a5.56 5.56 0 0 0 6.844-.852zM5.344 8.63a4.194 4.194 0 0 1 0-5.925 4.194 4.194 0 0 1 5.925 0 4.194 4.194 0 0 1 0 5.925 4.195 4.195 0 0 1-5.925 0z\"\r\n    );\r\n  icon\r\n    .append(\"path\")\r\n    .attr(\r\n      \"d\",\r\n      \"M5.706 5.331a.584.584 0 0 1-.539-.813A3.688 3.688 0 0 1 9.996 2.56a.585.585 0 0 1-.457 1.078 2.516 2.516 0 0 0-3.294 1.336.585.585 0 0 1-.54.357z\"\r\n    );\r\n  let g2 = g1\r\n    .append(\"div\")\r\n    .datum({})\r\n    .attr(\"class\", \"coco-bpm-slider-wrap\");\r\n\r\n  this.slider = g2\r\n    .append(\"input\")\r\n    .datum({})\r\n    .attr(\"type\", \"range\")\r\n    .attr(\"class\", \"coco-bpm-slider\")\r\n    .attr(\"id\", \"range\")\r\n    .attr(\"value\", 1)\r\n    .attr(\"min\", 0.1)\r\n    .attr(\"max\", 2)\r\n    .attr(\"step\", 0.01)\r\n    .on(\"input\", () => {\r\n      this.zoom.scaleTo(this.vis, d3.select(\"#range\").property(\"value\"));\r\n      this.rangeWidth();\r\n    });\r\n\r\n  g2.append(\"div\")\r\n    .datum({})\r\n    .attr(\"class\", \"coco-bpm-line-range\")\r\n    .attr(\"id\", \"lineZoomRange\");\r\n\r\n  document.getElementById(\"graph\").addEventListener(\"mousemove\", e => {\r\n    let dummyX = e.offsetX;\r\n    let dummyY = e.offsetY;\r\n\r\n    if (this.startDrowLine && this.data[this.startDrowLine]) {\r\n      this.removeAll();\r\n      d3.selectAll(\"#drowLine\").remove();\r\n      let x, y;\r\n      if (\r\n        document.getElementById(\"wrap\").getAttribute(\"transform\") === null\r\n      ) {\r\n        x = e.offsetX;\r\n        y = e.offsetY;\r\n      } else {\r\n        x = (e.offsetX - this.zoomTrans.x) / this.zoomTrans.k;\r\n        y = (e.offsetY - this.zoomTrans.y) / this.zoomTrans.k;\r\n      }\r\n\r\n      var d = {\r\n        source: {\r\n          x: this.data[this.startDrowLine].x + 110,\r\n          y: this.data[this.startDrowLine].y\r\n        },\r\n        target: {\r\n          x: x,\r\n          y: y\r\n        }\r\n      };\r\n      var link = d3\r\n        .linkHorizontal()\r\n        .x(function (d) {\r\n          return d.x;\r\n        })\r\n        .y(function (d) {\r\n          return d.y;\r\n        });\r\n\r\n      this.conteiner\r\n        .append(\"path\")\r\n        .attr(\"class\", \"path\")\r\n        .attr(\"id\", \"drowLine\")\r\n        .attr(\"d\", link(d))\r\n        .style(\"fill\", \"none\")\r\n        .style(\"stroke\", \"red\")\r\n        .attr(\"stroke-opacity\", 0.4)\r\n        .attr(\"stroke-width\", 1.5);\r\n\r\n      this.conteiner\r\n        .append(\"polyline\")\r\n        .attr(\r\n          \"points\",\r\n          d.source.x +\r\n          \",\" +\r\n          d.source.y +\r\n          \" \" +\r\n          (d.source.x + d.target.x) / 2 +\r\n          \",\" +\r\n          (d.source.y + d.target.y) / 2 +\r\n          \" \" +\r\n          d.target.x +\r\n          \",\" +\r\n          d.target.y\r\n        )\r\n\r\n        .style(\"fill\", \"none\");\r\n\r\n      this.drow();\r\n    }\r\n  });\r\n\r\n  this.marker = this.conteiner\r\n    .append(\"svg:defs\")\r\n    .append(\"svg:marker\")\r\n    .attr(\"id\", \"triangle\")\r\n    .attr(\"refX\", 6)\r\n    .attr(\"refY\", 6)\r\n    .attr(\"markerWidth\", 30)\r\n    .attr(\"markerHeight\", 30)\r\n    .attr(\"orient\", \"auto\");\r\n  this.marker\r\n    .append(\"path\")\r\n    .attr(\"class\", \"path\")\r\n    .attr(\"d\", \"M 0 0 12 6 0 12 3 6\")\r\n    .style(\"fill\", \"red\");\r\n  }\r\n\r\n  \r\n  drow() {\r\n    this.drowLines();\r\n\r\n    this.data.forEach((element, index, arr) => {\r\n      let d, dx, dy, color;\r\n      let count = 0;\r\n      let countS = 0;\r\n      \r\n      let h = (65 + (count > 3 ? ((count - 3) * 27 + ( countS * 5) + (count * 5)) : 0+ ( countS * 5)));\r\n      let selected = (this.selected !== null && (+this.selected === +index)) ? \"stroke-width:1;stroke:rgb(0,0,0)\" : \"\";\r\n      let g = this.conteiner.append(\"g\").attr(\"class\", \"g\");\r\n \r\n       \r\n\r\n          if(element.objectClass === \"AND\" ||\r\n          element.objectClass === \"OR\"){\r\n  \r\n\r\n            dx = element.x - 10;\r\n            dy = element.y - 8;\r\n            // color = this.colors[element.objectClass];\r\n            color = '#f6f7fa'\r\n            count = 0;\r\n            countS = 0;\r\n            h = (65 + (count > 3 ? ((count - 3) * 27 + ( countS * 5) + (count * 5)) : 0+ ( countS * 5)));\r\n            selected = (this.selected !== null && (+this.selected === +index)) ? \"stroke-width:1;stroke:rgb(0,0,0)\" : \"stroke-width:1;stroke:#58a6c8\";\r\n            g = this.conteiner.append(\"g\").attr(\"class\", \"g\");\r\n    \r\n              g.append(\"rect\")\r\n                .attr(\"class\", \"nodes\")\r\n                .attr(\"id\", index)\r\n                .attr(\"style\", selected)\r\n                .attr(\"fill\", color)\r\n                .attr(\"x\", element.x + 90)\r\n                .attr(\"y\", element.y - 10)\r\n                .attr(\"width\", 50)\r\n                .attr(\"height\", 50)\r\n                .attr(\"rx\", 50)\r\n                .attr(\"ry\", 50)\r\n   \r\n                .call(\r\n                  d3\r\n                    .drag()\r\n                    .on(\"start\", dragstarted)\r\n                    .on(\"drag\", dragged)\r\n                    .on(\"end\", dragended)\r\n                )\r\n                .on(\"mouseover\", (q, w, e) => {\r\n                  d3.event.stopPropagation();\r\n                  if (this.activeArrow) {\r\n                    document.documentElement.style.cursor = \"default\";\r\n                    d3.select(document.getElementById(e[0].id + \"main\")).style(\r\n                      \"fill\",\r\n                      \"#84bd96\"\r\n                    );\r\n                  }\r\n                })\r\n                .on(\"mouseout\", (q, w, e) => {\r\n                  d3.event.stopPropagation();\r\n                  d3.select(document.getElementById(e[0].id + \"main\")).style(\r\n                    \"fill\",\r\n                    \"#2196f3\"\r\n                  );\r\n                  if (this.activeArrow) {\r\n                    document.documentElement.style.cursor = \"not-allowed\";\r\n                  }\r\n                })\r\n                // .on(\"click\", (d, i, s) => {\r\n                //   d3.event.stopPropagation();\r\n                //   this.selectedModal = s[0].id;\r\n                //   this.selected = s[0].id;\r\n                //   this.removeAll();\r\n                //   this.drow();\r\n                //   if (this.activeArrow)\r\n                //     this.shepClick(s[0].id);\r\n                // })\r\n                .on(\"dblclick\", (d, i, s) => {\r\n                  this.selectedModal = s[0].id;\r\n                  let name = this.data[this.selectedModal].objectClass + (this.data[this.selectedModal].parameters.length + 1);\r\n                  this.showSide = true;\r\n                  this.selected = s[0].id;\r\n                  this.removeAll();\r\n                  this.drow();\r\n                  this.activeArrow = null;\r\n                  this.startDrowLine = null;\r\n                });\r\n    \r\n                g.append(\"rect\")\r\n                .attr(\"class\", \"nodes\")\r\n                .attr(\"id\", index)\r\n                // .attr(\"style\", selected)\r\n                .attr(\"fill\", \"#017bb0\")\r\n                .attr(\"x\", element.x + 85)\r\n                .attr(\"y\", element.y + 10)\r\n                .attr(\"width\", 10)\r\n                .attr(\"height\", 10)\r\n                .attr(\"rx\", 50)\r\n                .attr(\"ry\", 50)\r\n                .on(\"click\", (d, i, s) => {\r\n                  d3.event.stopPropagation();\r\n                  this.selectedModal = s[0].id;\r\n                  this.selected = s[0].id;\r\n                  this.removeAll();\r\n                  this.drow();\r\n                  // this.arrowSelect();\r\n                  // if (this.activeArrow)\r\n\r\n                    this.shepClick(s[0].id, 'left');\r\n                })\r\n                //------arrowSelect()\r\n                g.append(\"rect\")\r\n                .attr(\"class\", \"nodes\")\r\n                .attr(\"id\", index)\r\n                // .attr(\"style\", selected)\r\n                .attr(\"fill\", \"#017bb0\")\r\n                .attr(\"x\", element.x + 135)\r\n                .attr(\"y\", element.y + 10)\r\n                .attr(\"width\", 10)\r\n                .attr(\"height\", 10)\r\n                .attr(\"rx\", 50)\r\n                .attr(\"ry\", 50)\r\n                .on(\"click\", (d, i, s) => {\r\n                  d3.event.stopPropagation();\r\n                  this.selectedModal = s[0].id;\r\n                  this.selected = s[0].id;\r\n                  this.removeAll();\r\n                  this.drow();\r\n                  // this.arrowSelect();\r\n                  // if (this.activeArrow)\r\n\r\n                    this.shepClick(s[0].id, 'right');\r\n                })\r\n              // let  cg = g.append(\"g\")\r\n              // .attr(\"id\", index + \"-del\")\r\n              // ;\r\n              // cg.append(\"circle\")\r\n              //   .attr(\"class\", \"svg\")\r\n              //   .attr(\"cx\", element.x + 140)\r\n              //   .attr(\"cy\", element.y - 13)\r\n              //   .attr(\"r\", 11)\r\n              //   .attr(\"stroke\", \"black\")\r\n              //   .attr(\"stroke-width\", 2)\r\n              //   .attr(\"fill\", \"white\");\r\n                \r\n              //   cg.append(\"path\")\r\n              //   .attr(\"transform\", `translate(${element.x + 128},${element.y -25})`)\r\n              //   .attr(\"d\", \"M6.25,6.25,17.75,17.75\")\r\n              //   .attr(\"stroke\", \"black\")\r\n              //   .attr(\"stroke-width\", 3)\r\n              //   .attr(\"fill\", \"none\");\r\n              //   cg.append(\"path\")\r\n              //   .attr(\"transform\", `translate(${element.x + 128},${element.y -25})`)\r\n              //   .attr(\"d\", \"M6.25,17.75,17.75,6.25\")\r\n              //   .attr(\"stroke\", \"black\")\r\n              //   .attr(\"stroke-width\", 3)\r\n              //   .attr(\"fill\", \"none\")\r\n              // g.append(\"text\")\r\n              //   .attr(\"id\", index + \"-remove\")\r\n              //   .attr(\"x\", element.x + 140)\r\n              //   .attr(\"y\", element.y - 13)\r\n              //   .attr(\"class\", \"boxclose\")\r\n              //   .text(\"x\")\r\n              // cg.attr(\"cursor\", \"pointer\")\r\n              //   .on(\"click\", (d, i, s) => {\r\n              //     d3.event.stopPropagation();\r\n              //     let id = s[0].id.split(\"-\")[0];\r\n              //     console.log(s[0].id);\r\n                 \r\n              //     const dialogRef = this.dialog.open(DialogCreateModelComponent, {\r\n              //       width: '450px',\r\n              //       data: {\r\n              //         label: 'You delete the object! Are you sure?',\r\n              //         deleteMode: true\r\n              //       }\r\n              //     });\r\n              //     dialogRef.afterClosed().subscribe(model => {\r\n              //       if (model) {\r\n              //        console.log(model,id);\r\n              //        for (let index = 0; index < this.data.length; index++) {\r\n              //          const element = this.data[index];\r\n              //          let s = element.selectedIn.indexOf(this.data[id].id);\r\n              //           element.selectedIn.splice(s,1);\r\n\r\n              //          let sIn = element.selected.indexOf(this.data[id].id);\r\n              //           element.selected.splice(sIn,1);\r\n              //          console.log(element);\r\n                       \r\n              //        }\r\n              //        this.data.splice(+id, 1);\r\n              //        this.removeAll();\r\n              //        this.drow();\r\n              //       }\r\n              //     });\r\n    \r\n              //   });\r\n\r\n          g.append(\"text\")\r\n            .attr(\"x\", element.x+105 + (element.objectClass === \"AND\" ? -8 : 0))\r\n            .attr(\"id\", index + \"-text\")\r\n            .attr(\"y\", element.y + 20)\r\n            .attr(\"fill\", \"black\")\r\n            .attr(\"font-family\", \"Open sans-serif\")\r\n            .text(element.objectClass) .call(\r\n              d3\r\n                .drag()\r\n                .on(\"start\", dragstarted)\r\n                .on(\"drag\", dragged)\r\n                .on(\"end\", dragended)\r\n            )\r\n            .on(\"mouseover\", (q, w, e) => {\r\n              d3.event.stopPropagation();\r\n              if (this.activeArrow) {\r\n                document.documentElement.style.cursor = \"default\";\r\n                d3.select(document.getElementById(e[0].id + \"main\")).style(\r\n                  \"fill\",\r\n                  \"#84bd96\"\r\n                );\r\n              }\r\n            })\r\n            .on(\"mouseout\", (q, w, e) => {\r\n              d3.event.stopPropagation();\r\n              d3.select(document.getElementById(e[0].id + \"main\")).style(\r\n                \"fill\",\r\n                \"#2196f3\"\r\n              );\r\n              if (this.activeArrow) {\r\n                document.documentElement.style.cursor = \"not-allowed\";\r\n              }\r\n            })\r\n            .on(\"click\", (d, i, s) => {\r\n              d3.event.stopPropagation();\r\n              let id = s[0].id.split(\"-\")\r\n              this.selectedModal = id[0];\r\n              this.selected = id[0];\r\n              this.removeAll();\r\n              this.drow();\r\n              \r\n              if (this.activeArrow)\r\n                this.shepClick(id[0]);\r\n            })\r\n            .on(\"dblclick\", (d, i, s) => {\r\n              this.selectedModal = s[0].id;\r\n              let name = this.data[this.selectedModal].objectClass + (this.data[this.selectedModal].parameters.length + 1);\r\n              this.showSide = true;\r\n              this.selected = s[0].id;\r\n              this.removeAll();\r\n              this.drow();\r\n              this.activeArrow = null;\r\n              this.startDrowLine = null;\r\n            });\r\n    \r\n      } else {\r\n\r\n dx = element.x - 10;\r\n dy = element.y - 8;\r\n color = this.colors[element.objectClass];\r\n color = '#f6f7fa'\r\n count = 0;\r\n countS = 0;\r\n let type = element.objectClass.split(\"-\")[0];\r\n h = (65 + (count > 3 ? ((count - 3) * 27 + ( countS * 5) + (count * 5)) : 0+ ( countS * 5)));\r\n selected = (this.selected !== null && (+this.selected === +index)) ? \"stroke-width:1;stroke:rgb(0,0,0)\" : \"stroke-width:1;stroke:#58a6c8\";\r\n g = this.conteiner.append(\"g\").attr(\"class\", \"g\");\r\n g   .attr(\"id\", index)\r\n g.call(\r\n  d3\r\n    .drag()\r\n    .on(\"start\", dragstarted)\r\n    .on(\"drag\", dragged)\r\n    .on(\"end\", dragended)\r\n)\r\n   \r\ng.on(\"mouseover\", (q, w, e) => {\r\n  d3.event.stopPropagation();\r\n  if (this.activeArrow) {\r\n    document.documentElement.style.cursor = \"default\";\r\n    d3.select(document.getElementById(e[0].id + \"main\")).style(\r\n      \"fill\",\r\n      \"#84bd96\"\r\n    );\r\n  }\r\n})\r\ng.on(\"mouseout\", (q, w, e) => {\r\n  d3.event.stopPropagation();\r\n  d3.select(document.getElementById(e[0].id + \"main\")).style(\r\n    \"fill\",\r\n    \"#2196f3\"\r\n  );\r\n  if (this.activeArrow) {\r\n    document.documentElement.style.cursor = \"not-allowed\";\r\n  }\r\n})\r\ng.on(\"click\", (d, i, s) => {\r\n  d3.event.stopPropagation();\r\n  this.selectedModal = s[0].id;\r\n  this.selected = s[0].id;\r\n  this.removeAll();\r\n  this.drow();\r\n  if (this.activeArrow)\r\n    this.shepClick(s[0].id);\r\n})\r\n\r\n g.append(\"rect\")\r\n   .attr(\"class\", \"nodes\")\r\n   .attr(\"id\", index)\r\n   .attr(\"style\", selected)\r\n   .attr(\"fill\", color)\r\n   .attr(\"x\", element.x - 5)\r\n   .attr(\"y\", element.y - 10)\r\n   .attr(\"width\", 200)\r\n   .attr(\"height\", 135)\r\n   .attr(\"rx\", 5)\r\n   .attr(\"ry\", 5).on(\"dblclick\", (d, i, s) => {\r\n    \r\n    this.newItem = this.data[s[0].id] ? this.data[s[0].id] : new ComponentClass();\r\n    this.selectedModal = s[0].id;\r\n    let item = this.attributeOptions[this.data[this.selectedModal].objectClass];\r\n    this.newItem.group = this.data[this.selectedModal].objectClass.split('-')[0];\r\n    this.newItem.type = item.type;\r\n    this.newItem.operations = item.operations;\r\n    this.newItem.values = item.values;\r\n    // this.newItem.attribute = this.selectedData[\"name\" + this.data[this.selectedModal].objectClass][0];\r\n    // this.newItem.type = \r\n    // this.getElementsByAttributs(this.newItem.attribute, 'type', this.data[this.selectedModal].objectClass);\r\n    // this.selectedData['operations' + this.data[this.selectedModal].objectClass + this.newItem.attribute] = \r\n    // this.getElementsByAttributs(this.newItem.attribute, 'operations', this.data[this.selectedModal].objectClass);\r\n    // this.selectedData['values' + this.data[this.selectedModal].objectClass + this.newItem.attribute] = \r\n    // this.getElementsByAttributs(this.newItem.attribute, 'values', this.data[this.selectedModal].objectClass);\r\n    \r\n    let name = this.data[this.selectedModal].objectClass;\r\n    this.showSide = true;\r\n    this.selected = s[0].id;\r\n    this.removeAll();\r\n    this.drow();\r\n    this.activeArrow = null;\r\n    this.startDrowLine = null;\r\n  });\r\n\r\n  g.append(\"rect\")\r\n  .attr(\"class\", \"nodes\")\r\n  .attr(\"id\", index)\r\n  // .attr(\"style\", selected)\r\n  .attr(\"fill\", \"#017bb0\")\r\n  .attr(\"x\", element.x - 10)\r\n  .attr(\"y\", element.y + 60)\r\n  .attr(\"width\", 10)\r\n  .attr(\"height\", 10)\r\n  .attr(\"rx\", 50)\r\n  .attr(\"ry\", 50)\r\n  g.append(\"rect\")\r\n  .attr(\"class\", \"nodes\")\r\n  .attr(\"id\", index)\r\n  // .attr(\"style\", selected)\r\n  .attr(\"fill\", \"#017bb0\")\r\n  .attr(\"x\", element.x + 190)\r\n  .attr(\"y\", element.y + 60)\r\n  .attr(\"width\", 10)\r\n  .attr(\"height\", 10)\r\n  .attr(\"rx\", 50)\r\n  .attr(\"ry\", 50)\r\n  .on(\"click\", (d, i, s) => {\r\n    d3.event.stopPropagation();\r\n    this.selectedModal = s[0].id;\r\n    this.selected = s[0].id;\r\n    this.removeAll();\r\n    this.drow();\r\n    // this.arrowSelect();\r\n    // if (this.activeArrow)\r\n\r\n      this.shepClick(s[0].id, 'left');\r\n  })\r\n   g.append(\"rect\")\r\n   .attr(\"class\", \"nodes\")\r\n  //  .attr(\"style\", selected)\r\n   .attr(\"fill\", \"#daedf8\")\r\n   .attr(\"x\", element.x)\r\n   .attr(\"y\", element.y - 4)\r\n   .attr(\"width\", 190)\r\n   .attr(\"height\", 30)\r\n   .on(\"click\", (d, i, s) => {\r\n    d3.event.stopPropagation();\r\n    this.selectedModal = s[0].id;\r\n    this.selected = s[0].id;\r\n    this.removeAll();\r\n    this.drow();\r\n    // this.arrowSelect();\r\n    // if (this.activeArrow)\r\n\r\n      this.shepClick(s[0].id, 'right');\r\n  })\r\n   g.append(\"text\")\r\n     .attr(\"id\", index + \"-text\")\r\n    .attr(\"font-family\", \"Open Sans\")\r\n    .attr(\"x\", element.x + 25)\r\n     .attr(\"y\", element.y + 15)\r\n     .attr(\"font-weight\", \"bold\")\r\n     .text(element.name)\r\n     .attr(\"cursor\", \"pointer\")\r\n\r\n   g.append(\"text\")\r\n   .attr(\"id\", index + \"-text\")\r\n   .attr(\"x\", element.x + 10)\r\n   .attr(\"y\", element.y + 60)\r\n   .attr(\"font-weight\", \"bold\")\r\n   .attr(\"font-family\", \"Open Sans\")\r\n   .attr(\"font-size\", \"14px\")\r\n   .text(\"Key:\")\r\n   .attr(\"cursor\", \"pointer\");\r\n   g.append(\"text\")\r\n   .attr(\"id\", index + \"-text\")\r\n   .attr(\"x\", element.x + 10)\r\n   .attr(\"y\", element.y + 75)\r\n   .attr(\"font-weight\", \"bold\")\r\n   .attr(\"font-family\", \"Open Sans\")\r\n   .attr(\"font-size\", \"14px\")\r\n   .text(\"Operation:\")\r\n   .attr(\"cursor\", \"pointer\");\r\n   g.append(\"text\")\r\n   .attr(\"id\", index + \"-text\")\r\n   .attr(\"x\", element.x + 10)\r\n   .attr(\"y\", element.y + 90)\r\n   .attr(\"font-weight\", \"bold\")\r\n   .attr(\"font-family\", \"Open Sans\")\r\n   .attr(\"font-size\", \"14px\")\r\n   .text(\"Value:\")\r\n   .attr(\"cursor\", \"pointer\");\r\n  //  ----------------\r\n   g.append(\"text\")\r\n   .attr(\"id\", index + \"-text\")\r\n   .attr(\"x\", element.x + 40)\r\n   .attr(\"y\", element.y + 60)\r\n   .attr(\"font-family\", \"Open Sans\")\r\n   .attr(\"font-size\", \"14px\")\r\n   .text(element.key || \"xxxx\")\r\n   .attr(\"cursor\", \"pointer\");\r\n   g.append(\"text\")\r\n   .attr(\"id\", index + \"-text\")\r\n   .attr(\"x\", element.x + 85)\r\n   .attr(\"y\", element.y + 75)\r\n   .attr(\"font-family\", \"Open Sans\")\r\n   .attr(\"font-size\", \"14px\")\r\n   .text(element.operation || \"xxxx\")\r\n   .attr(\"cursor\", \"pointer\");\r\n   g.append(\"text\")\r\n   .attr(\"id\", index + \"-text\")\r\n   .attr(\"x\", element.x + 53)\r\n   .attr(\"y\", element.y + 90)\r\n   .attr(\"font-family\", \"Open Sans\")\r\n   .attr(\"font-size\", \"14px\")\r\n   .text(element.value || \"xxxx\")\r\n   .attr(\"cursor\", \"pointer\");\r\n\r\n   g.append(\"rect\")\r\n   .attr(\"class\", \"nodes\")\r\n  //  .attr(\"id\", index)\r\n   .attr(\"style\", selected)\r\n   .attr(\"fill\", \"white\")\r\n    .attr(\"x\", element.x - 20)\r\n   .attr(\"y\", element.y - 30)\r\n   .attr(\"width\", 40)\r\n   .attr(\"height\", 40)\r\n   .attr(\"rx\", 50)\r\n   .attr(\"ry\", 50)\r\n   g.append(\"image\")\r\n   .attr(\"x\", element.x - 13)\r\n   .attr(\"y\", element.y - 23)\r\n   .attr(\"width\", 24)\r\n   .attr(\"height\", 24)\r\n   .attr(\"xlink:href\", `/assets/${this.icons[type]}.svg`)\r\n   g.append(\"line\")\r\n   .attr(\"x1\", element.x - 5)\r\n   .attr(\"y1\", element.y + 33)\r\n   .attr(\"x2\", element.x + 195)\r\n   .attr(\"y2\", element.y + 33)\r\n   .attr(\"stroke\", \"#58a6c8\")\r\n   \r\n  //  .append(\"path\")\r\n  //  .attr(\"d\", \"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z\")\r\n   // .text((element.name || element.id));\r\n // g.append(\"text\")\r\n //   .attr(\"x\", element.x - 5)\r\n //   .attr(\"y\", element.y - 13)\r\n //   .text((element.name || element.id));\r\n\r\n\r\n      }\r\n      if (this.marker)\r\n        this.marker\r\n          .append(\"path\")\r\n          .attr(\"class\", \"path\")\r\n          .attr(\"d\", \"M 0 0 12 6 0 12 3 6\")\r\n          .style(\"fill\", \"#ff5722\");\r\n      let self = this;\r\n\r\n      function dragstarted(d) {\r\n        // d3.select(this)\r\n        //   .classed(\"active\", true);\r\n        self.start_x = +d3.event.x;\r\n        self.start_y = +d3.event.y;\r\n      }\r\n\r\n      function dragged(d) {\r\n        let current_scale, current_scale_string;\r\n        let transform = document.getElementById('wrap')\r\n        if (transform.getAttribute(\"transform\") === null) {\r\n          current_scale = 1;\r\n        } else {\r\n          current_scale_string = transform.getAttribute(\"transform\").split(\" \")[1];\r\n          current_scale = +current_scale_string.substring(\r\n            6,\r\n            current_scale_string.length - 1\r\n          );\r\n        }\r\n\r\n        if (!self.zoomTrans) {\r\n          self.zoomTrans = {\r\n            x: 0,\r\n            y: 0,\r\n            k: 1,\r\n          };\r\n        }\r\n\r\n        self.dragSelected = this.getAttribute(\"id\").split(\"-\")[0];\r\n        self.data[self.dragSelected].x =\r\n          (d3.event.x - self.zoomTrans.x) / self.zoomTrans.k - 90;\r\n        // self.start_x + (d3.event.x - self.start_x) / current_scale;\r\n        // (e.offsetX - this.zoomTrans.x) / this.zoomTrans.k;\r\n        let scale = 30;\r\n        if (self.zoomTrans.k < 0.33) {\r\n          scale = 50;\r\n        }\r\n        self.data[self.dragSelected].y = (\r\n          (d3.event.y - self.zoomTrans.y) / self.zoomTrans.k - (scale / self.zoomTrans.k)) + 5;\r\n        // self.start_y + (d3.event.y - self.start_y) / current_scale;\r\n        self.removeAll();\r\n        self.drow();\r\n\r\n\r\n      }\r\n\r\n      function dragended(d) {\r\n        d3.select(this).classed(\"active\", false);\r\n        // self.txtQueryChanged.next({\r\n        //   value: self.zoomTrans,\r\n        //   selected: self.dragSelected,\r\n        //   drag: 1\r\n        // });\r\n      }\r\n    });\r\n    \r\n  }\r\n  k = 1\r\n  zoomPlus() {\r\n    this.k += 0.1;\r\n    this.zoom.scaleTo(this.vis, this.k);\r\n  }\r\n\r\n  zoomMinus() {\r\n    this.k -= 0.1;\r\n    this.zoom.scaleTo(this.vis, this.k);\r\n  }\r\n\r\n  clickArrow;\r\n\r\n  selectedLine;\r\n  selectedLineId;\r\n  selectedLineFrom;\r\n  selectedLineTo;\r\n\r\n  drowLines() {\r\n    this.data.forEach((value, index, arr) => {\r\n      value.selected.forEach(item => {\r\n       \r\n        let firstSide = item.split('#')[1];\r\n        let secondSide;\r\n        item = item.split('#')[0];\r\n\r\n        let to = this.searchById(item, this.data, 'id');\r\n        let from = this.data[index];\r\n      \r\n        if (to) {\r\n          for (const it of to.selectedIn) {\r\n            let id = it.split('#')[0];\r\n            \r\n            if(id === from.id){\r\n              secondSide = it.split('#')[1];\r\n            }\r\n          }\r\n          let x = +from.x;\r\n          let y = +from.y;\r\n          let x2 = +to.x;\r\n          let y2 = +to.y;\r\n          let minX = Math.abs(x - x2);\r\n          let minY = Math.abs(y - y2);\r\n\r\n          if(from.objectClass === \"OR\" || from.objectClass === \"AND\") {\r\n            if(firstSide === 'left') {\r\n              x += 8;\r\n            } else {\r\n              x -= 8;\r\n            }\r\n          } else {\r\n            // if(firstSide === 'left') {\r\n            //   x -= 148;\r\n            //   y -= 148;\r\n            // } else {\r\n            //   x -= 48;\r\n            // }\r\n         \r\n          }\r\n\r\n          if(to.objectClass === \"OR\" || to.objectClass === \"AND\") {\r\n            // if(firstSide === 'left') {\r\n            //   x += 8;\r\n            // } else {\r\n            //   x -= 8;\r\n            // }\r\n          } else {\r\n            // if(firstSide === 'left') {\r\n            //   x -= 148;\r\n            //   y -= 148;\r\n            // } else {\r\n            //   x -= 48;\r\n            // }\r\n            \r\n            if(secondSide === 'left') {\r\n              x2 += 80;\r\n              y2 += 50;\r\n            } else {\r\n              x2 -= 95;\r\n              y2 += 50;\r\n            }\r\n          }\r\n\r\n\r\n          if (minX > minY) {\r\n            if (+x < +x2) {\r\n              x += 25;\r\n              x2 -= 25;\r\n            } else {\r\n              x -= 25;\r\n              x2 += 25;\r\n            }\r\n          } else {\r\n            // if (+y < +y2) {\r\n            //   y += 25;\r\n            //   y2 -= 25;\r\n            // } else {\r\n            //   y -= 25;\r\n            //   y2 += 25;\r\n            // }\r\n          }\r\n\r\n          var d = {\r\n            source: {\r\n              x: x + 110,\r\n              y: y + 15\r\n            },\r\n            target: {\r\n              x: x2 + 110,\r\n              y: y2 + 15\r\n            }\r\n          };\r\n\r\n          var link = d3\r\n            .linkHorizontal()\r\n            .x(function (d) {\r\n              return d.x;\r\n            })\r\n            .y(function (d) {\r\n              return d.y;\r\n            });\r\n\r\n          this.conteiner\r\n            .append(\"path\")\r\n            .attr(\"d\", link(d))\r\n            .attr(\"id\", from.id + to.id)\r\n            .attr(\"class\", \"path\")\r\n            .style(\"fill\", \"none\")\r\n            .style(\"stroke\", \"red\")\r\n            .attr(\"stroke-opacity\", 0.4)\r\n            .attr(\"stroke-width\", 1.5)\r\n            .attr(\"marker-mid\", \"url(#triangle)\");\r\n\r\n          this.conteiner\r\n            .append(\"path\")\r\n            .attr(\"class\", \"path\")\r\n            .attr(\"d\", link(d))\r\n            .style(\"fill\", \"none\")\r\n            .style(\"stroke\", \"red\")\r\n            .attr(\"stroke-opacity\", 0)\r\n            .attr(\"stroke-width\", 15)\r\n            .on(\"click\", () => {\r\n\r\n              this.selected = undefined;\r\n\r\n              this.removeAll();\r\n              this.drow();\r\n              // if (this.selectedLine) {\r\n              //   this.unselectArrow();\r\n              // }\r\n              this.clickArrow = true;\r\n\r\n              this.selectedLine = from.id + to.id;\r\n              this.selectedLineId = index;\r\n              this.selectedLineFrom = from;\r\n              this.selectedLineTo = to;\r\n\r\n              d3.select(document.getElementById(from.id + to.id)).style(\r\n                \"stroke-width\",\r\n                2.5\r\n              );\r\n              d3.select(document.getElementById(from.id + to.id)).style(\r\n                \"stroke\",\r\n                \"red\"\r\n              );\r\n\r\n            });\r\n\r\n          this.conteiner\r\n            .append(\"polyline\")\r\n            .attr(\r\n              \"points\",\r\n              d.source.x +\r\n              \",\" +\r\n              d.source.y +\r\n              \" \" +\r\n              (d.source.x + d.target.x) / 2 +\r\n              \",\" +\r\n              (d.source.y + d.target.y) / 2 +\r\n              \" \" +\r\n              d.target.x +\r\n              \",\" +\r\n              d.target.y\r\n            )\r\n            .style(\"fill\", \"none\")\r\n            .attr(\"marker-mid\", \"url(#triangle)\");\r\n        }\r\n\r\n      });\r\n    });\r\n  }\r\n\r\n  menuInit() {\r\n    \r\n    this.types.forEach(type => {\r\n\r\n      if (document.getElementById(type)) {\r\n        document.getElementById(type).addEventListener(\r\n          \"dragstart\",\r\n          ev => {\r\n            \r\n            ev.dataTransfer.setData('text', 'foo');\r\n            this.dragType = type;\r\n            if (this.isStart && type === \"Start\") {\r\n              event.preventDefault();\r\n            }\r\n          },\r\n          false\r\n        );\r\n      }\r\n    });\r\n\r\n    document.getElementById(\"AND\").addEventListener(\r\n      \"dragstart\",\r\n      ev => {\r\n        ev.dataTransfer.setData('text', 'foo');\r\n        this.dragType = \"AND\";\r\n      },\r\n      false\r\n    );\r\n\r\n    document.getElementById(\"OR\").addEventListener(\r\n      \"dragstart\",\r\n      ev => {\r\n        ev.dataTransfer.setData('text', 'foo');\r\n        this.dragType = \"OR\";\r\n      \r\n      },\r\n      false\r\n    );\r\n    document.addEventListener(\"dragover\", function (event) {\r\n      event.preventDefault();\r\n    });\r\n    document.getElementById(\"graph\").addEventListener(\r\n      \"drop\",\r\n      ev => {\r\n        let x, y;\r\n        if (\r\n          document.getElementById(\"wrap\").getAttribute(\"transform\") === null\r\n        ) {\r\n          x = ev.offsetX;\r\n          y = ev.offsetY;\r\n        } else {\r\n          x = (ev.offsetX - this.zoomTrans.x) / this.zoomTrans.k;\r\n          y = (ev.offsetY - this.zoomTrans.y) / this.zoomTrans.k;\r\n        }\r\n        ev.preventDefault();\r\n        \r\n        let model = new ComponentClass();\r\n        model.x = x - 100;\r\n        model.y = y;\r\n        model.objectClass = this.dragType;\r\n        model.id = this.uuidv4();\r\n        model.selected = [];\r\n        model.key = \"\";\r\n       \r\n        this.data.push(model);\r\n        \r\n        this.drow();\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  clear() {\r\n    this.selected = null;\r\n    this.activeArrow = null;\r\n    // this.clickArrow = null;\r\n    // this.selectedLine = null;\r\n    // this.selectedLineId = null;\r\n    // this.selectedLineFrom = null;\r\n    // this.selectedLineTo = null;\r\n    this.startDrowLine = null;\r\n   \r\n  }\r\n\r\n  rangeWidth(flag?) {\r\n    if (flag) {\r\n      setTimeout(() => {\r\n        document.getElementById(\"lineZoomRange\").style.width = 50 + \"%\";\r\n      }, 500);\r\n    } else {\r\n      let input = document.getElementById(\"range\");\r\n      let width;\r\n      width = (input[\"value\"] / 2) * 100;\r\n      document.getElementById(\"lineZoomRange\").style.width = width + \"%\";\r\n    }\r\n  }\r\n\r\n  removeAll() {\r\n    d3.selectAll(\"line\").remove();\r\n    d3.selectAll(\"polyline\").remove();\r\n    d3.selectAll(\"rect\").remove();\r\n    d3.selectAll(\"text\").remove();\r\n    d3.selectAll(\"circle\").remove();\r\n\r\n    // d3.selectAll(\"g\").remove();\r\n\r\n    d3.selectAll(\".path\").remove();\r\n    d3.selectAll(\".g\").remove();\r\n    // this.types.forEach(type => {\r\n    //   d3.selectAll(type).remove();\r\n    // });\r\n\r\n  }\r\n  firstSide;\r\n  secondSide;\r\n  shepClick(s, side?) {\r\n    this.selected = s;\r\n    let id = this.selected;\r\n    if(!this.firstSide){\r\n      this.firstSide = side;\r\n    } else {\r\n      this.secondSide = side;\r\n    }\r\n\r\n    if (!this.startDrowLine) {\r\n      this.activeArrow = id;\r\n      this.startDrowLine = id;\r\n    } else {\r\n      if(this.data[this.activeArrow].selected.length > 0  && \r\n        !(this.data[this.activeArrow].objectClass === \"OR\" || \r\n      this.data[this.activeArrow].objectClass === \"AND\") && \r\n      (this.data[this.selected].objectClass === \"OR\" || \r\n      this.data[this.selected].objectClass === \"AND\")) {\r\n        this.activeArrow = null;\r\n        this.startDrowLine = null;\r\n        this.removeAll();\r\n        this.drowLines();\r\n        this.drow();\r\n        return;\r\n      }\r\n\r\n      if( \r\n        (this.data[this.activeArrow].objectClass !== \"OR\" && \r\n      this.data[this.activeArrow].objectClass !== \"AND\") && \r\n      (this.data[this.selected].objectClass !== \"OR\" && \r\n      this.data[this.selected].objectClass !== \"AND\")) {\r\n        this.activeArrow = null;\r\n        this.startDrowLine = null;\r\n        this.removeAll();\r\n        this.drowLines();\r\n        this.drow();\r\n        return;\r\n      }\r\n\r\n      if(this.data[this.selected].selectedIn.length === 1) {\r\n        this.activeArrow = null;\r\n        this.startDrowLine = null;\r\n        this.removeAll();\r\n        this.drowLines();\r\n        this.drow();\r\n        return;\r\n      }\r\n\r\n\r\n      let count = 0;\r\n      \r\n      this.data[id].selected.forEach((element, index) => {\r\n        if (this.data[this.activeArrow].id === element) {\r\n          count++;\r\n        }\r\n      });\r\n      this.data[this.activeArrow].selected.forEach((element, index) => {\r\n        if (this.data[id].id === element) {\r\n          count++;\r\n        }\r\n      });\r\n      if (count) {\r\n        this.activeArrow = null;\r\n        this.startDrowLine = null;\r\n        this.removeAll();\r\n        this.drowLines();\r\n        this.drow();\r\n        return;\r\n      }\r\n\r\n      if (id !== this.activeArrow) {\r\n        this.data[this.activeArrow].selected.push(this.data[id].id + '#' + this.secondSide);\r\n        this.data[this.selected].selectedIn.push(this.data[this.activeArrow].id + '#' + this.firstSide);\r\n        this.firstSide = null;\r\n        this.secondSide = null;\r\n        // this.txtQueryChanged.next({\r\n        //   value: \"query\",\r\n        //   selected: this.activeArrow\r\n        // });\r\n      }\r\n    \r\n      this.activeArrow = null;\r\n      this.startDrowLine = null;\r\n\r\n    }\r\n\r\n    this.removeAll();\r\n    this.drowLines();\r\n    this.drow();\r\n  }\r\n  searchById(id, arr, idField?) {\r\n    if (arr) {\r\n      let f = idField || \"_id\";\r\n      let result = arr.find(element => element[f] === id);\r\n      return result;\r\n    }\r\n  }\r\n  uuidv4() {\r\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n      var r = (Math.random() * 16) | 0,\r\n        v = c == \"x\" ? r : (r & 0x3) | 0x8;\r\n      return v.toString(16);\r\n    });\r\n  }\r\n\r\n  arrowSelect() {\r\n    this.activeArrow = true;\r\n  }\r\n\r\n  saveForm(){\r\n    this.data[this.selectedModal].key = this.newItem.key;\r\n    this.removeAll();\r\n    this.drow();\r\n  }\r\n\r\n  getAttribute(newItem, type, hasArr?) {\r\n    \r\n    let items = this.settings[newItem.name].attributes;\r\n    let arr = [];\r\n\r\n    if(hasArr) {\r\n      for(let item of items){\r\n        if(item[type])\r\n        arr = arr.concat(item[type]);\r\n      }\r\n    } else {\r\n      for(let item of items){\r\n        arr.push(item[type]);\r\n      }\r\n    }\r\n   \r\n    return [...new Set(arr)];\r\n  }\r\n\r\n  getElementsByAttributs(attribute,type, calss) {\r\n    let arr;\r\n    for (const iterator of this.optionsData) {\r\n      if(iterator.name === calss) {\r\n        for (let index = 0; index < iterator.attributes.length; index++) {\r\n          const element = iterator.attributes[index];\r\n          if(element.name === attribute){\r\n            arr = element[type];\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return arr;\r\n  }\r\n\r\n  changeAttr(name) {\r\n    this.newItem.attribute = name;\r\n    this.newItem.type = \r\n    this.getElementsByAttributs(this.newItem.attribute, 'type', this.data[this.selectedModal].objectClass);\r\n    this.selectedData['operations' + this.data[this.selectedModal].objectClass + this.newItem.attribute] = \r\n    this.getElementsByAttributs(this.newItem.attribute, 'operations', this.data[this.selectedModal].objectClass);\r\n    this.selectedData['values' + this.data[this.selectedModal].objectClass + this.newItem.attribute] = \r\n    this.getElementsByAttributs(this.newItem.attribute, 'values', this.data[this.selectedModal].objectClass);\r\n    \r\n  }\r\n\r\n  deleteElement() {\r\n      const dialogRef = this.dialog.open(DialogCreateModelComponent, {\r\n          width: '450px',\r\n          data: {\r\n            label: 'You delete the object! Are you sure?',\r\n            deleteMode: true\r\n          }\r\n        });\r\n        dialogRef.afterClosed().subscribe(model => {\r\n          if (model) {\r\n            if(this.selected){\r\n              for (let index = 0; index < this.data.length; index++) {\r\n                const element = this.data[index];\r\n                let s = element.selectedIn.indexOf(this.data[this.selected].id);\r\n                element.selectedIn.splice(s,1);\r\n  \r\n                let sIn = element.selected.indexOf(this.data[this.selected].id);\r\n                element.selected.splice(sIn,1);\r\n              }\r\n              this.data.splice(this.selected, 1);\r\n            }\r\n\r\n            if(this.selectedLine) {\r\n              for (let index = 0; index < this.data.length; index++) {\r\n                const element = this.data[index];\r\n                let s = element.selectedIn.indexOf(this.selectedLineFrom);\r\n                element.selectedIn.splice(s,1);\r\n  \r\n                let sIn = element.selected.indexOf(this.selectedLineTo);\r\n                element.selected.splice(sIn,1);\r\n              }\r\n            }\r\n            \r\n            this.removeAll();\r\n            this.drow();\r\n          }\r\n        });\r\n  }\r\n\r\n\r\n}\r\n","<h1 mat-dialog-title>Do you want remove element?</h1>\n\n<div mat-dialog-actions class=\"jc-c df\">\n  <button\n    mat-button\n    [mat-dialog-close]=\"true\"\n    mat-raised-button\n    color=\"primary\"\n    cdkFocusInitial\n  >\n    Ok\n  </button>\n  <button mat-button (click)=\"onNoClick()\">Cancel</button>\n</div>\n","import { Component, OnInit, Inject } from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\n\n@Component({\n  selector: \"app-dialog-create-model\",\n  templateUrl: \"./dialog-create-model.component.html\",\n  styleUrls: [\"./dialog-create-model.component.scss\"]\n})\nexport class DialogCreateModelComponent implements OnInit {\n  label = \"\"\n  deleteMode;\n  dataArr;\n  valid;\n  saveId;\n  constructor(public dialogRef: MatDialogRef<DialogCreateModelComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any) { }\n  ngOnInit(): void {\n  }\n\n  validChange(e) {\n    if (!e) {\n      this.valid = false;\n      return;\n    }\n    let res = this.dataArr.find(element => {\n      return e === element.id;\n    });\n\n    if (!res) {\n      this.valid = true;\n    } else {\n      this.valid = false;\n    }\n\n    if (this.label === 'Edit Model' && this.saveId === e) {\n      this.valid = true;\n    }\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n  onKeyDown(e) {\n    let re = /^(\\d*[a-zA-Z]*\\d*[a-zA-Z]*)*$/mg;\n    if (!re.test(e.key)){\n      return false;\n    }\n  }\n}\n","export class ComponentClass {\r\n    x: number;\r\n    y: number;\r\n    objectClass: string;\r\n    id: string;\r\n    key: string = \"\";\r\n    selected: Array<string>;\r\n    selectedIn: Array<string> = [];\r\n    \r\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}